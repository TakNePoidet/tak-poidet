import{d as v,u as I,_ as A,e as L,f as z,T,g as U}from"./chunks/tp-tab-item.vue_vue_type_script_setup_true_lang.20ba3688.js";import{I as K,g as x,p as V,d,E as G,o as c,k as _,w as p,u as a,C as b,a as l,n as g,c as h,t as F,m as J,i as H,b as i,e as B,K as Q,j as W,L as w,M as X,f as Y,G as Z,F as q,N as ee,O as se,r as S}from"./app.01b4e14c.js";function P(n,e){const s={};for(const t in n)e.includes(t)||(s[t]=n[t]);return s}function te(n=!0){const e=K(),s=x(e==null?void 0:e.props.modelValue);V(()=>e==null?void 0:e.props.modelValue,u=>{s.value=u});function t(){e==null||e.emit("update:modelValue",s.value)}return V(s,()=>{n&&t()}),[s,t]}var y=(n=>(n.Alert="alert",n.Confirm="confirm",n))(y||{});function k(){return v({modelValue:{type:Boolean,required:!0},title:{type:String,required:!1,default:void 0},text:{type:String,required:!0}})}const O=400,ue=Symbol("message-key");function $(n){let e;const[s,t]=I(!1),u=x();function o(){return t(!0),new Promise(D=>{e=D})}function r(){t(!1)}return{isShow:s,setIsShow:t,show:o,hide:r,resolve(){e(u.value)},result:u}}const j=d({__name:"tp-message",props:{...k()},emits:["update:modelValue","leave"],setup(n,{emit:e}){const s=z("message"),[t]=te();function u(){e("leave")}function o(r){t.value=r}return G(ue,{isShow:t,setIsShow:o}),(r,D)=>(c(),_(a(L),{modelValue:a(t),"onUpdate:modelValue":D[0]||(D[0]=f=>b(t)?t.value=f:null),esc:!1,duration:a(O),keyframes:{opacity:[0,1],transform:["scale(1.4)","scale(1)"]},onLeave:u},{default:p(()=>[l("div",{class:g([a(s).base()])},[l("div",{class:g([a(s).component("content")])},[r.title?(c(),h("h3",{key:0,class:g(a(s).component("title"))},F(r.title),3)):J("",!0),l("p",{class:g([a(s).component("text")])},F(r.text),3)],2),l("div",{class:g([a(s).component("footer")])},[H(r.$slots,"actions",{},()=>[i(a(A),{type:"secondary",text:""},{default:p(()=>[B("\u0417\u0430\u043A\u0440\u044B\u0442\u044C")]),_:1})])],2)],2)]),_:3},8,["modelValue","duration","keyframes"]))}});function ae(){return v({...P(k(),["modelValue"]),cancelText:{type:String,required:!1,default:"\u0417\u0430\u043A\u0440\u044B\u0442\u044C"}})}const ne=d({__name:"tp-alert",props:{...ae()},setup(n,{expose:e}){const{isShow:s,show:t,hide:u,result:o,resolve:r}=$(y.Alert);function D(){o.value=void 0,u()}function f(){r()}return e({show:t,hide:u}),(C,m)=>(c(),_(a(j),{modelValue:a(s),"onUpdate:modelValue":m[0]||(m[0]=E=>b(s)?s.value=E:null),title:C.title,text:C.text,onLeave:f},{actions:p(()=>[i(a(A),{text:"",type:"secondary",onClick:D},{default:p(()=>[B(F(C.cancelText),1)]),_:1})]),_:1},8,["modelValue","title","text"]))}});function oe(){return v({...P(k(),["modelValue"]),type:{type:String,required:!1,default:T.Secondary},successText:{type:String,required:!1,default:"\u0417\u0430\u043A\u0440\u044B\u0442\u044C"},cancelText:{type:String,required:!1,default:"\u041E\u0442\u043C\u0435\u043D\u0430"}})}const re=d({__name:"tp-confirm",props:{...oe()},setup(n,{expose:e}){const{isShow:s,resolve:t,show:u,hide:o,result:r}=$(y.Confirm);function D(){t()}function f(){r.value=!0,o()}function C(){r.value=!1,o()}return e({show:u,hide:o}),(m,E)=>(c(),_(a(j),{modelValue:a(s),"onUpdate:modelValue":E[0]||(E[0]=R=>b(s)?s.value=R:null),title:m.title,text:m.text,onLeave:D},{actions:p(()=>[i(a(A),{type:m.type,onClick:f},{default:p(()=>[B(F(m.successText),1)]),_:1},8,["type"]),i(a(A),{text:"",type:"secondary",onClick:C},{default:p(()=>[B(F(m.cancelText),1)]),_:1})]),_:1},8,["modelValue","title","text"]))}}),le=Q({});function M(){return{messageRefs:le}}const De=d({__name:"item",props:{id:{type:String,required:!0},component:{type:Object,required:!0},params:{type:Object,required:!0},returnValue:{type:Function,required:!0}},setup(n){const e=n,s=x(),{messageRefs:t}=M();return W(async()=>{if(s.value){const u=await s.value.show();e.returnValue(u),setTimeout(()=>{delete t[e.id]},O)}}),(u,o)=>(c(),_(X(e.component),w(n.params,{ref_key:"message",ref:s}),null,16))}}),ce=d({__name:"messages",setup(n){const{messageRefs:e}=M(),s=Y(()=>Object.entries(e).map(([t,u])=>({id:t,...u})));return(t,u)=>(c(),_(ee,{to:"body"},[(c(!0),h(q,null,Z(a(s),o=>(c(),_(De,w({key:o.id},o),null,16))),128))]))}}),pe={[y.Alert]:ne,[y.Confirm]:re};class N{static Alert(e){return this.registerAsyncMessages(y.Alert,e)}static Confirm(e){return this.registerAsyncMessages(y.Confirm,e)}static async registerAsyncMessages(e,s){const{messageRefs:t}=M();return new Promise((u,o)=>{const r=pe[e],D=U(e);try{t[D]={component:r,params:s,returnValue:u}}catch(f){delete t[D],o(f)}})}}const ie=d({__name:"alert",setup(n){async function e(){await N.Alert({title:"\u0423\u0441\u0442\u0430\u043D\u043E\u0432\u0438\u0442\u044C \u043F\u0440\u0438\u043B\u043E\u0436\u0435\u043D\u0438\u0435 \u043D\u0430 \u0440\u0430\u0431\u043E\u0447\u0438\u0439 \u0441\u0442\u043E\u043B?",text:"\u0423\u0441\u0442\u0430\u043D\u043E\u0432\u043A\u0430 \u043D\u0430 \u0440\u0430\u0431\u043E\u0447\u0438\u0439 \u0441\u0442\u043E\u043B \u043F\u043E\u0437\u0432\u043E\u043B\u044F\u0435\u0442 \u0431\u044B\u0441\u0442\u0440\u043E \u0437\u0430\u043F\u0443\u0441\u043A\u0430\u0442\u044C \u043F\u0440\u0438\u043B\u043E\u0436\u0435\u043D\u0438\u0435"})}return(s,t)=>(c(),h(q,null,[i(a(A),{onClick:e},{default:p(()=>[B("Alert")]),_:1}),i(a(ce))],64))}}),Be=Object.freeze(Object.defineProperty({__proto__:null,default:ie},Symbol.toStringTag,{value:"Module"})),me=d({__name:"confirm",setup(n){async function e(){await N.Confirm({title:"\u0423\u0441\u0442\u0430\u043D\u043E\u0432\u0438\u0442\u044C \u043F\u0440\u0438\u043B\u043E\u0436\u0435\u043D\u0438\u0435 \u043D\u0430 \u0440\u0430\u0431\u043E\u0447\u0438\u0439 \u0441\u0442\u043E\u043B?",text:"\u0423\u0441\u0442\u0430\u043D\u043E\u0432\u043A\u0430 \u043D\u0430 \u0440\u0430\u0431\u043E\u0447\u0438\u0439 \u0441\u0442\u043E\u043B \u043F\u043E\u0437\u0432\u043E\u043B\u044F\u0435\u0442 \u0431\u044B\u0441\u0442\u0440\u043E \u0437\u0430\u043F\u0443\u0441\u043A\u0430\u0442\u044C \u043F\u0440\u0438\u043B\u043E\u0436\u0435\u043D\u0438\u0435",successText:"\u0423\u0441\u0442\u0430\u043D\u043E\u0432\u0438\u0442\u044C",type:T.Primary})}return(s,t)=>(c(),_(a(A),{type:"success",onClick:e},{default:p(()=>[B("Confirm")]),_:1}))}}),de=Object.freeze(Object.defineProperty({__proto__:null,default:me},Symbol.toStringTag,{value:"Module"})),fe=l("h1",{id:"\u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u044F",tabindex:"-1"},[B("\u0421\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u044F "),l("a",{class:"header-anchor",href:"#\u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u044F","aria-hidden":"true"},"#")],-1),_e=l("h2",{id:"alert",tabindex:"-1"},[B("Alert "),l("a",{class:"header-anchor",href:"#alert","aria-hidden":"true"},"#")],-1),ye=l("p",null,"messages/alert",-1),Ae=l("h2",{id:"confirm",tabindex:"-1"},[B("Confirm "),l("a",{class:"header-anchor",href:"#confirm","aria-hidden":"true"},"#")],-1),Ce=l("p",null,"messages/confirm",-1),ge=se(`<div class="language-vue"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">tp-container-messages</span><span style="color:#89DDFF;"> /&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">script</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">lang</span><span style="color:#A6ACCD;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">ts</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">setup</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">TpContainerMessages</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@tak-poidet/messages</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div>`,1),ve=JSON.parse('{"title":"\u0421\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u044F","description":"","frontmatter":{},"headers":[{"level":2,"title":"Alert","slug":"alert","link":"#alert","children":[]},{"level":2,"title":"Confirm","slug":"confirm","link":"#confirm","children":[]}],"relativePath":"component/messages.md"}'),Fe={name:"component/messages.md"},xe=d({...Fe,setup(n){const e=Object.assign({"../examples/messages/alert.vue":Be,"../examples/messages/confirm.vue":de});return(s,t)=>{const u=S("demo"),o=S("tp-container-messages");return c(),h("div",null,[fe,_e,i(u,{demos:a(e),path:"messages/alert",source:"%3Ctemplate%3E%0A%09%3Ctp-button%20%40click%3D%22alert%22%3EAlert%3C%2Ftp-button%3E%0A%09%3Ctp-container-messages%20%2F%3E%0A%3C%2Ftemplate%3E%0A%0A%3Cscript%20setup%20lang%3D%22ts%22%3E%0Aimport%20%7B%20TpButton%20%7D%20from%20'tak-poidet'%3B%0Aimport%20%7B%20Message%2C%20TpContainerMessages%20%7D%20from%20'%40tak-poidet%2Fmessages'%3B%0A%0Aasync%20function%20alert()%20%7B%0A%09await%20Message.Alert(%7B%0A%09%09title%3A%20'%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%B8%D1%82%D1%8C%20%D0%BF%D1%80%D0%B8%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%B0%20%D1%80%D0%B0%D0%B1%D0%BE%D1%87%D0%B8%D0%B9%20%D1%81%D1%82%D0%BE%D0%BB%3F'%2C%0A%09%09text%3A%20'%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0%20%D0%BD%D0%B0%20%D1%80%D0%B0%D0%B1%D0%BE%D1%87%D0%B8%D0%B9%20%D1%81%D1%82%D0%BE%D0%BB%20%D0%BF%D0%BE%D0%B7%D0%B2%D0%BE%D0%BB%D1%8F%D0%B5%D1%82%20%D0%B1%D1%8B%D1%81%D1%82%D1%80%D0%BE%20%D0%B7%D0%B0%D0%BF%D1%83%D1%81%D0%BA%D0%B0%D1%82%D1%8C%20%D0%BF%D1%80%D0%B8%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5'%0A%09%7D)%3B%0A%7D%0A%3C%2Fscript%3E%0A"},{default:p(()=>[ye]),_:1},8,["demos"]),Ae,i(u,{demos:a(e),path:"messages/confirm",source:"%3Ctemplate%3E%0A%09%3Ctp-button%20type%3D%22success%22%20%40click%3D%22confirm%22%3EConfirm%3C%2Ftp-button%3E%0A%3C%2Ftemplate%3E%0A%0A%3Cscript%20setup%20lang%3D%22ts%22%3E%0Aimport%20%7B%20TpButton%20%7D%20from%20'tak-poidet'%3B%0Aimport%20%7B%20Message%2C%20TpMessageConfirmType%20%7D%20from%20'%40tak-poidet%2Fmessages'%3B%0A%0Aasync%20function%20confirm()%20%7B%0A%09await%20Message.Confirm(%7B%0A%09%09title%3A%20'%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%B8%D1%82%D1%8C%20%D0%BF%D1%80%D0%B8%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%B0%20%D1%80%D0%B0%D0%B1%D0%BE%D1%87%D0%B8%D0%B9%20%D1%81%D1%82%D0%BE%D0%BB%3F'%2C%0A%09%09text%3A%20'%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0%20%D0%BD%D0%B0%20%D1%80%D0%B0%D0%B1%D0%BE%D1%87%D0%B8%D0%B9%20%D1%81%D1%82%D0%BE%D0%BB%20%D0%BF%D0%BE%D0%B7%D0%B2%D0%BE%D0%BB%D1%8F%D0%B5%D1%82%20%D0%B1%D1%8B%D1%81%D1%82%D1%80%D0%BE%20%D0%B7%D0%B0%D0%BF%D1%83%D1%81%D0%BA%D0%B0%D1%82%D1%8C%20%D0%BF%D1%80%D0%B8%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5'%2C%0A%09%09successText%3A%20'%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%B8%D1%82%D1%8C'%2C%0A%09%09type%3A%20TpMessageConfirmType.Primary%0A%09%7D)%3B%0A%7D%0A%3C%2Fscript%3E%0A"},{default:p(()=>[Ce]),_:1},8,["demos"]),ge,i(o)])}}});export{ve as __pageData,xe as default};
